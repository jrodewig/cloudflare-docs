---
pcx_content_type: configuration
title: Fauna
---

import { Render } from "~/components";

[Fauna](https://fauna.com/) is a distributed document-relational database that combines the flexibility of documents with the power of a relational, ACID-compliant database. Fauna databases are serverless and automatically scale across regions, clouds, or the globe.

<Render file="database_integrations_definition" />

## Set up an integration with Fauna

To set up an integration with Fauna:

1. You need to have an existing Fauna database to connect to. To create a database, log in to the [Fauna Dashboard](https://dashboard.fauna.com/) and click **Create Database**. When prompted, select your preferred [Fauna region group](https://docs.fauna.com/fauna/current/manage/region-groups/) and other database settings.

2. Create a `Products` collection for the database with the following query. To run the query in the Fauna Dashboard, select your database and click the **Shell** tab:

   ```js title="Create a new collection"
   Collection.create({ name: "Products" });
   ```

   The query outputs a result similar to the following:

   ```js title="Output"
   {
     name: "Products",
     coll: Collection,
     ts: Time("2099-08-28T15:03:53.773Z"),
     history_days: 0,
     indexes: {},
     constraints: []
   }
   ```

3. Add the Fauna integration to your Worker:

   1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com) and select your account.
   2. In **Account Home**, select **Workers & Pages**.
   3. In **Overview**, select your Worker.
   4. Select **Integrations** > **Fauna**.
   5. Follow the setup flow. Log in to your Fauna account and select your database.

4. In your Worker, install the [Fauna JavaScript driver](https://github.com/fauna/fauna-js) in your Worker project:

   ```sh title="Install the Fauna driver"
   npm install fauna
   ```

5. The following example shows how to query your Fauna database in a Worker.

   The integration automatically creates a [Fauna authentication key](https://docs.fauna.com/fauna/current/learn/security/keys/) with the role you selected during integration setup The integration adds the Fauna authentication key's secret to the Worker's `DATABASE_KEY` environment variable.

   ```js title="Query your Fauna database"
   import { Client, fql } from "fauna";

   export default {
   	async fetch(request, env) {
   		const client = new Client({
   			secret: env.DATABASE_KEY,
   		});

   		const result = await client.query(`Products.all()`);

   		return new Response(JSON.stringify(result.data), {
   			status: 200,
   			headers: {
   				"Content-Type": "application/json",
   			},
   		});
   	},
   };
   ```

6. You can manage the Cloudflare Fauna integration from the [Fauna Dashboard](https://dashboard.fauna.com/):

   - Select your database and click the **Keys** tab. Keys for a Cloudflare Worker integration are prepended with `_cloudflare_key_`. You can delete the key to disable the integration.

     ![Key tab for a database in the Fauna Dashboard](~/assets/images/workers/databases/native-integrations/fauna_keys_tab.png)

   - The Fauna **Account Settings** page lists each Cloudflare Worker integration under **OAuth Apps**. You can delete the app to disable the integration.

     ![OAuth apps in Fauna](~/assets/images/workers/databases/native-integrations/fauna_oauth.png)
